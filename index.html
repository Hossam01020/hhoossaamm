<!-- save as fullpage-task.html -->
<!doctype html>
<html lang="ar">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>موقع مهامي - تنفيذ المهمة</title>
<style>
  body {
    font-family: system-ui, Segoe UI, Helvetica, Arial;
    direction: rtl;
    margin: 0;
    background: #f0f4f8;
    color: #111;
    line-height: 1.6;
  }
  .container {
    max-width: 800px;
    margin: 40px auto;
    padding: 30px 40px;
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.08);
  }
  h1 { font-size: 28px; margin-bottom: 20px; text-align: center; }
  p { font-size: 16px; margin-bottom: 20px; }
  .balance { font-size: 20px; font-weight: 700; color: #1b7a3a; text-align: center; margin-bottom: 30px; }
  button {
    display: block;
    width: 100%;
    max-width: 300px;
    margin: 0 auto;
    background: #0b5ed7;
    color: #fff;
    border: none;
    padding: 16px 0;
    border-radius: 8px;
    font-size: 18px;
    cursor: pointer;
    transition: 0.2s;
  }
  button:hover { background: #094bb5; }
</style>
</head>
<body>

<div class="container">
  <h1>موقع مهامي</h1>
  <p>
    مرحبًا بك في موقع مهامي! يمكنك تنفيذ المهام البسيطة المتاحة لك والحصول على مكافآت مالية مباشرة.
    كل مهمة تنفذها تضيف مبلغ صغير إلى رصيدك، ويمكنك مشاهدة تاريخ المهام التي قمت بها في أي وقت لاحقًا.
    هذه الصفحة مصممة لتجربة تنفيذ المهام بشكل مبسط وواقعي.
  </p>
  <div class="balance">الرصيد الحالي: $<span id="balance">0.00</span></div>
  <button id="executeTask">اضغط لتنفيذ المهمة مقابل الحصول على $0.10</button>
</div>

<script>
const REWARD = 0.10;
const storageKey = 'pp_demo_user_fullpage';

function loadUser() {
  const raw = localStorage.getItem(storageKey);
  if(!raw){
    const u = { id: 'demo001', name: 'مستخدم تجريبي', balance:0, history:[] };
    localStorage.setItem(storageKey, JSON.stringify(u));
    return u;
  }
  return JSON.parse(raw);
}

function saveUser(u){ localStorage.setItem(storageKey, JSON.stringify(u)); }

let user = loadUser();
const balanceEl = document.getElementById('balance');
balanceEl.innerText = user.balance.toFixed(2);

document.getElementById('executeTask').addEventListener('click', ()=>{
  // تحديث الرصيد وسجل المهمة
  user.balance = Number((user.balance + REWARD).toFixed(2));
  user.history.push({ date: new Date().toISOString(), task: 'تنفيذ مهمة مهامي', reward: REWARD });
  saveUser(user);
  balanceEl.innerText = user.balance.toFixed(2);
  alert(`تم تنفيذ المهمة! حصلت على $${REWARD.toFixed(2)}`);
});
</script>

</body>
</html>
